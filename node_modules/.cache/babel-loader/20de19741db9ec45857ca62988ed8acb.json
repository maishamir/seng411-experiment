{"ast":null,"code":"import _toConsumableArray from\"/Users/maishamir/Documents/Web Dev /node/SENG411-HCI-Experiment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/maishamir/Documents/Web Dev /node/SENG411-HCI-Experiment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/maishamir/Documents/Web Dev /node/SENG411-HCI-Experiment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/maishamir/Documents/Web Dev /node/SENG411-HCI-Experiment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/maishamir/Documents/Web Dev /node/SENG411-HCI-Experiment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Block,Format}from\"./components/Block\";import Trial from\"./components/Trial\";import Introduction from\"./components/Introduction\";import EndScreen from\"./components/EndScreen\";import\"./App.css\";import axios from\"axios\";import\"dotenv\";import{jsx as _jsx}from\"react/jsx-runtime\";export var DataSubmissionStatus=Object.freeze({NOT_SUBMITTED:1,SUCCESFUL:2,FAILED:3});var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.beginExperiment=function(event){if(event.keyCode===13){var elem=event.srcElement||event.target;_this.groupCode=elem.value;_this.setState({showIntro:false});}};_this.onSpacebarClicked=function(event){if(_this.state.showInstruction&&(event.key===\"Spacebar\"||event.key===\" \"||event.keyCode===32)){_this.setState({showInstruction:false});}};_this.advanceIteration=function(){_this.setState({curentIteration:_this.state.curentIteration+1});};_this.advanceTrial=function(){_this.setState({currentTrial:_this.state.currentTrial+1,curentIteration:1,showInstruction:true});};_this.addResults=function(newResult){_this.setState({results:[].concat(_toConsumableArray(_this.state.results),[newResult])});};_this.submitHandler=function(e){e.preventDefault();console.log(_this.state.results);axios.post(\"\".concat(process.env.REACT_APP_GOOGLE_SHEETS),_this.state.results).then(function(response){console.log(response);_this.setState({dataSubmitted:DataSubmissionStatus.SUCCESFUL});}).catch(function(error){console.log(error);_this.setState({dataSubmitted:DataSubmissionStatus.FAILED});});};_this.whatToShow=function(){if(_this.state.showIntro){return/*#__PURE__*/_jsx(Introduction,{onBeginExperiment:_this.beginExperiment});}else if(_this.state.currentTrial===_this.trialParameters.length){var submissionStatusObject=null;if(_this.state.dataSubmitted===DataSubmissionStatus.SUCCESFUL){submissionStatusObject=/*#__PURE__*/_jsx(\"div\",{className:\"submittedSuccessfully\",children:\"Data submission complete\"});}else if(_this.state.dataSubmitted===DataSubmissionStatus.FAILED){submissionStatusObject=/*#__PURE__*/_jsx(\"div\",{className:\"submittedFailed\",children:\"Data submission failed\"});}return/*#__PURE__*/_jsx(EndScreen,{results:_this.state.results,showSubmitButton:_this.state.dataSubmitted===DataSubmissionStatus.NOT_SUBMITTED,submissionStatusObject:submissionStatusObject,onSubmit:_this.submitHandler});}else{return/*#__PURE__*/_jsx(Trial,{format:_this.trialParameters[_this.state.currentTrial].format,n:_this.trialParameters[_this.state.currentTrial].n,showInstruction:_this.state.showInstruction,instructType:_this.trialParameters[_this.state.currentTrial].instructType,curentIteration:_this.state.curentIteration,children:/*#__PURE__*/_jsx(Block,{format:_this.trialParameters[_this.state.currentTrial].format,n:_this.trialParameters[_this.state.currentTrial].n,startTime:Date.now(),curentIteration:_this.state.curentIteration,advanceIteration:_this.advanceIteration,experimentSeed:_this.groupCode,userID:_this.userID,addResults:_this.addResults})});}};_this.state={currentTrial:0,showInstruction:true,curentIteration:1,results:[],showIntro:true,dataSubmitted:DataSubmissionStatus.NOT_SUBMITTED};_this.userID=Math.floor(Math.random()*90000)+10000;_this.groupCode=0;_this.iterationPerTrial=3;_this.trialParameters=[{format:Format.TEXT,n:3,instructType:1},{format:Format.TEXT,n:5,instructType:2},{format:Format.TEXT,n:9,instructType:2},{format:Format.TEXT,n:25,instructType:2},{format:Format.BUBBLE,n:3,instructType:1},{format:Format.BUBBLE,n:5,instructType:2},{format:Format.BUBBLE,n:9,instructType:2},{format:Format.BUBBLE,n:25,instructType:2}];return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"keydown\",this.onSpacebarClicked);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.state.curentIteration>this.iterationPerTrial){this.advanceTrial();}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:this.whatToShow()});}}]);return App;}(React.Component);export{App as default};","map":{"version":3,"sources":["/Users/maishamir/Documents/Web Dev /node/SENG411-HCI-Experiment/src/App.js"],"names":["React","Block","Format","Trial","Introduction","EndScreen","axios","DataSubmissionStatus","Object","freeze","NOT_SUBMITTED","SUCCESFUL","FAILED","App","props","beginExperiment","event","keyCode","elem","srcElement","target","groupCode","value","setState","showIntro","onSpacebarClicked","state","showInstruction","key","advanceIteration","curentIteration","advanceTrial","currentTrial","addResults","newResult","results","submitHandler","e","preventDefault","console","log","post","process","env","REACT_APP_GOOGLE_SHEETS","then","response","dataSubmitted","catch","error","whatToShow","trialParameters","length","submissionStatusObject","format","n","instructType","Date","now","userID","Math","floor","random","iterationPerTrial","TEXT","BUBBLE","document","addEventListener","Component"],"mappings":"s4BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,oBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,QAAP,C,2CAEA,MAAO,IAAMC,CAAAA,oBAAoB,CAAGC,MAAM,CAACC,MAAP,CAAc,CAChDC,aAAa,CAAE,CADiC,CAEhDC,SAAS,CAAE,CAFqC,CAGhDC,MAAM,CAAE,CAHwC,CAAd,CAA7B,C,GAMcC,CAAAA,G,sGACnB,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EADiB,MAsCnBC,eAtCmB,CAsCD,SAACC,KAAD,CAAW,CAC3B,GAAIA,KAAK,CAACC,OAAN,GAAkB,EAAtB,CAA0B,CACxB,GAAIC,CAAAA,IAAI,CAAGF,KAAK,CAACG,UAAN,EAAoBH,KAAK,CAACI,MAArC,CACA,MAAKC,SAAL,CAAiBH,IAAI,CAACI,KAAtB,CACA,MAAKC,QAAL,CAAc,CACZC,SAAS,CAAE,KADC,CAAd,EAGD,CACF,CA9CkB,OAgDnBC,iBAhDmB,CAgDC,SAACT,KAAD,CAAW,CAC7B,GACE,MAAKU,KAAL,CAAWC,eAAX,GACCX,KAAK,CAACY,GAAN,GAAc,UAAd,EAA4BZ,KAAK,CAACY,GAAN,GAAc,GAA1C,EAAiDZ,KAAK,CAACC,OAAN,GAAkB,EADpE,CADF,CAGE,CACA,MAAKM,QAAL,CAAc,CACZI,eAAe,CAAE,KADL,CAAd,EAGD,CACF,CAzDkB,OA2DnBE,gBA3DmB,CA2DA,UAAM,CACvB,MAAKN,QAAL,CAAc,CACZO,eAAe,CAAE,MAAKJ,KAAL,CAAWI,eAAX,CAA6B,CADlC,CAAd,EAGD,CA/DkB,OAiEnBC,YAjEmB,CAiEJ,UAAM,CACnB,MAAKR,QAAL,CAAc,CACZS,YAAY,CAAE,MAAKN,KAAL,CAAWM,YAAX,CAA0B,CAD5B,CAEZF,eAAe,CAAE,CAFL,CAGZH,eAAe,CAAE,IAHL,CAAd,EAKD,CAvEkB,OAyEnBM,UAzEmB,CAyEN,SAACC,SAAD,CAAe,CAC1B,MAAKX,QAAL,CAAc,CACZY,OAAO,8BAAM,MAAKT,KAAL,CAAWS,OAAjB,GAA0BD,SAA1B,EADK,CAAd,EAGD,CA7EkB,OA+EnBE,aA/EmB,CA+EH,SAACC,CAAD,CAAO,CACrBA,CAAC,CAACC,cAAF,GACAC,OAAO,CAACC,GAAR,CAAY,MAAKd,KAAL,CAAWS,OAAvB,EAEA7B,KAAK,CACFmC,IADH,WACWC,OAAO,CAACC,GAAR,CAAYC,uBADvB,EACkD,MAAKlB,KAAL,CAAWS,OAD7D,EAEGU,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBP,OAAO,CAACC,GAAR,CAAYM,QAAZ,EACA,MAAKvB,QAAL,CAAc,CACZwB,aAAa,CAAExC,oBAAoB,CAACI,SADxB,CAAd,EAGD,CAPH,EAQGqC,KARH,CAQS,SAACC,KAAD,CAAW,CAChBV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EACA,MAAK1B,QAAL,CAAc,CACZwB,aAAa,CAAExC,oBAAoB,CAACK,MADxB,CAAd,EAGD,CAbH,EAcD,CAjGkB,OAmGnBsC,UAnGmB,CAmGN,UAAM,CACjB,GAAI,MAAKxB,KAAL,CAAWF,SAAf,CAA0B,CACxB,mBAAO,KAAC,YAAD,EAAc,iBAAiB,CAAE,MAAKT,eAAtC,EAAP,CACD,CAFD,IAEO,IAAI,MAAKW,KAAL,CAAWM,YAAX,GAA4B,MAAKmB,eAAL,CAAqBC,MAArD,CAA6D,CAClE,GAAIC,CAAAA,sBAAsB,CAAG,IAA7B,CAEA,GAAI,MAAK3B,KAAL,CAAWqB,aAAX,GAA6BxC,oBAAoB,CAACI,SAAtD,CAAiE,CAC/D0C,sBAAsB,cACpB,YAAK,SAAS,CAAE,uBAAhB,sCADF,CAKD,CAND,IAMO,IAAI,MAAK3B,KAAL,CAAWqB,aAAX,GAA6BxC,oBAAoB,CAACK,MAAtD,CAA8D,CACnEyC,sBAAsB,cACpB,YAAK,SAAS,CAAE,iBAAhB,oCADF,CAGD,CAED,mBACE,KAAC,SAAD,EACE,OAAO,CAAE,MAAK3B,KAAL,CAAWS,OADtB,CAEE,gBAAgB,CACd,MAAKT,KAAL,CAAWqB,aAAX,GAA6BxC,oBAAoB,CAACG,aAHtD,CAKE,sBAAsB,CAAE2C,sBAL1B,CAME,QAAQ,CAAE,MAAKjB,aANjB,EADF,CAUD,CAzBM,IAyBA,CACL,mBACE,KAAC,KAAD,EACE,MAAM,CAAE,MAAKe,eAAL,CAAqB,MAAKzB,KAAL,CAAWM,YAAhC,EAA8CsB,MADxD,CAEE,CAAC,CAAE,MAAKH,eAAL,CAAqB,MAAKzB,KAAL,CAAWM,YAAhC,EAA8CuB,CAFnD,CAGE,eAAe,CAAE,MAAK7B,KAAL,CAAWC,eAH9B,CAIE,YAAY,CACV,MAAKwB,eAAL,CAAqB,MAAKzB,KAAL,CAAWM,YAAhC,EAA8CwB,YALlD,CAOE,eAAe,CAAE,MAAK9B,KAAL,CAAWI,eAP9B,uBASE,KAAC,KAAD,EACE,MAAM,CAAE,MAAKqB,eAAL,CAAqB,MAAKzB,KAAL,CAAWM,YAAhC,EAA8CsB,MADxD,CAEE,CAAC,CAAE,MAAKH,eAAL,CAAqB,MAAKzB,KAAL,CAAWM,YAAhC,EAA8CuB,CAFnD,CAGE,SAAS,CAAEE,IAAI,CAACC,GAAL,EAHb,CAIE,eAAe,CAAE,MAAKhC,KAAL,CAAWI,eAJ9B,CAKE,gBAAgB,CAAE,MAAKD,gBALzB,CAME,cAAc,CAAE,MAAKR,SANvB,CAOE,MAAM,CAAE,MAAKsC,MAPf,CAQE,UAAU,CAAE,MAAK1B,UARnB,EATF,EADF,CAsBD,CACF,CAvJkB,CAGjB,MAAKP,KAAL,CAAa,CACXM,YAAY,CAAE,CADH,CAEXL,eAAe,CAAE,IAFN,CAGXG,eAAe,CAAE,CAHN,CAIXK,OAAO,CAAE,EAJE,CAKXX,SAAS,CAAE,IALA,CAMXuB,aAAa,CAAExC,oBAAoB,CAACG,aANzB,CAAb,CASA,MAAKiD,MAAL,CAAcC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,KAA3B,EAAoC,KAAlD,CACA,MAAKzC,SAAL,CAAiB,CAAjB,CAEA,MAAK0C,iBAAL,CAAyB,CAAzB,CACA,MAAKZ,eAAL,CAAuB,CACrB,CAAEG,MAAM,CAAEpD,MAAM,CAAC8D,IAAjB,CAAuBT,CAAC,CAAE,CAA1B,CAA6BC,YAAY,CAAE,CAA3C,CADqB,CAErB,CAAEF,MAAM,CAAEpD,MAAM,CAAC8D,IAAjB,CAAuBT,CAAC,CAAE,CAA1B,CAA6BC,YAAY,CAAE,CAA3C,CAFqB,CAGrB,CAAEF,MAAM,CAAEpD,MAAM,CAAC8D,IAAjB,CAAuBT,CAAC,CAAE,CAA1B,CAA6BC,YAAY,CAAE,CAA3C,CAHqB,CAIrB,CAAEF,MAAM,CAAEpD,MAAM,CAAC8D,IAAjB,CAAuBT,CAAC,CAAE,EAA1B,CAA8BC,YAAY,CAAE,CAA5C,CAJqB,CAKrB,CAAEF,MAAM,CAAEpD,MAAM,CAAC+D,MAAjB,CAAyBV,CAAC,CAAE,CAA5B,CAA+BC,YAAY,CAAE,CAA7C,CALqB,CAMrB,CAAEF,MAAM,CAAEpD,MAAM,CAAC+D,MAAjB,CAAyBV,CAAC,CAAE,CAA5B,CAA+BC,YAAY,CAAE,CAA7C,CANqB,CAOrB,CAAEF,MAAM,CAAEpD,MAAM,CAAC+D,MAAjB,CAAyBV,CAAC,CAAE,CAA5B,CAA+BC,YAAY,CAAE,CAA7C,CAPqB,CAQrB,CAAEF,MAAM,CAAEpD,MAAM,CAAC+D,MAAjB,CAAyBV,CAAC,CAAE,EAA5B,CAAgCC,YAAY,CAAE,CAA9C,CARqB,CAAvB,CAhBiB,aA0BlB,C,iDAED,4BAAoB,CAClBU,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqC,KAAK1C,iBAA1C,EACD,C,kCAED,6BAAqB,CACnB,GAAI,KAAKC,KAAL,CAAWI,eAAX,CAA6B,KAAKiC,iBAAtC,CAAyD,CACvD,KAAKhC,YAAL,GACD,CACF,C,sBAqHD,iBAAS,CACP,mBAAO,YAAK,SAAS,CAAC,KAAf,UAAsB,KAAKmB,UAAL,EAAtB,EAAP,CACD,C,iBA5J8BlD,KAAK,CAACoE,S,SAAlBvD,G","sourcesContent":["import React from \"react\";\nimport { Block, Format } from \"./components/Block\";\nimport Trial from \"./components/Trial\";\nimport Introduction from \"./components/Introduction\";\nimport EndScreen from \"./components/EndScreen\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport \"dotenv\";\n\nexport const DataSubmissionStatus = Object.freeze({\n  NOT_SUBMITTED: 1,\n  SUCCESFUL: 2,\n  FAILED: 3,\n});\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTrial: 0,\n      showInstruction: true,\n      curentIteration: 1,\n      results: [],\n      showIntro: true,\n      dataSubmitted: DataSubmissionStatus.NOT_SUBMITTED,\n    };\n\n    this.userID = Math.floor(Math.random() * 90000) + 10000;\n    this.groupCode = 0;\n\n    this.iterationPerTrial = 3;\n    this.trialParameters = [\n      { format: Format.TEXT, n: 3, instructType: 1 },\n      { format: Format.TEXT, n: 5, instructType: 2 },\n      { format: Format.TEXT, n: 9, instructType: 2 },\n      { format: Format.TEXT, n: 25, instructType: 2 },\n      { format: Format.BUBBLE, n: 3, instructType: 1 },\n      { format: Format.BUBBLE, n: 5, instructType: 2 },\n      { format: Format.BUBBLE, n: 9, instructType: 2 },\n      { format: Format.BUBBLE, n: 25, instructType: 2 },\n    ];\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.onSpacebarClicked);\n  }\n\n  componentDidUpdate() {\n    if (this.state.curentIteration > this.iterationPerTrial) {\n      this.advanceTrial();\n    }\n  }\n\n  beginExperiment = (event) => {\n    if (event.keyCode === 13) {\n      var elem = event.srcElement || event.target;\n      this.groupCode = elem.value;\n      this.setState({\n        showIntro: false,\n      });\n    }\n  };\n\n  onSpacebarClicked = (event) => {\n    if (\n      this.state.showInstruction &&\n      (event.key === \"Spacebar\" || event.key === \" \" || event.keyCode === 32)\n    ) {\n      this.setState({\n        showInstruction: false,\n      });\n    }\n  };\n\n  advanceIteration = () => {\n    this.setState({\n      curentIteration: this.state.curentIteration + 1,\n    });\n  };\n\n  advanceTrial = () => {\n    this.setState({\n      currentTrial: this.state.currentTrial + 1,\n      curentIteration: 1,\n      showInstruction: true,\n    });\n  };\n\n  addResults = (newResult) => {\n    this.setState({\n      results: [...this.state.results, newResult],\n    });\n  };\n\n  submitHandler = (e) => {\n    e.preventDefault();\n    console.log(this.state.results);\n\n    axios\n      .post(`${process.env.REACT_APP_GOOGLE_SHEETS}`, this.state.results)\n      .then((response) => {\n        console.log(response);\n        this.setState({\n          dataSubmitted: DataSubmissionStatus.SUCCESFUL,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({\n          dataSubmitted: DataSubmissionStatus.FAILED,\n        });\n      });\n  };\n\n  whatToShow = () => {\n    if (this.state.showIntro) {\n      return <Introduction onBeginExperiment={this.beginExperiment} />;\n    } else if (this.state.currentTrial === this.trialParameters.length) {\n      var submissionStatusObject = null;\n\n      if (this.state.dataSubmitted === DataSubmissionStatus.SUCCESFUL) {\n        submissionStatusObject = (\n          <div className={\"submittedSuccessfully\"}>\n            Data submission complete\n          </div>\n        );\n      } else if (this.state.dataSubmitted === DataSubmissionStatus.FAILED) {\n        submissionStatusObject = (\n          <div className={\"submittedFailed\"}>Data submission failed</div>\n        );\n      }\n\n      return (\n        <EndScreen\n          results={this.state.results}\n          showSubmitButton={\n            this.state.dataSubmitted === DataSubmissionStatus.NOT_SUBMITTED\n          }\n          submissionStatusObject={submissionStatusObject}\n          onSubmit={this.submitHandler}\n        />\n      );\n    } else {\n      return (\n        <Trial\n          format={this.trialParameters[this.state.currentTrial].format}\n          n={this.trialParameters[this.state.currentTrial].n}\n          showInstruction={this.state.showInstruction}\n          instructType={\n            this.trialParameters[this.state.currentTrial].instructType\n          }\n          curentIteration={this.state.curentIteration}\n        >\n          <Block\n            format={this.trialParameters[this.state.currentTrial].format}\n            n={this.trialParameters[this.state.currentTrial].n}\n            startTime={Date.now()}\n            curentIteration={this.state.curentIteration}\n            advanceIteration={this.advanceIteration}\n            experimentSeed={this.groupCode}\n            userID={this.userID}\n            addResults={this.addResults}\n          />\n        </Trial>\n      );\n    }\n  };\n\n  render() {\n    return <div className=\"App\">{this.whatToShow()}</div>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
(this.webpackJsonpnumber_trial=this.webpackJsonpnumber_trial||[]).push([[0],{122:function(t,e,r){},131:function(t,e){},133:function(t,e,r){},154:function(t,e,r){"use strict";r.r(e);var n=r(1),a=r.n(n),i=r(41),s=r.n(i),c=(r(122),r(46)),o=r(5),u=r(6),l=r(7),d=r(8),p=r(3),b=r(44),h=r(0),j=Object.freeze({TEXT:"Text",BUBBLE:"Bubble"}),m=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).logOnClickResult=function(t,e){var r=n.props,a=r.format,i=r.n,s=r.startTime,c=r.curentIteration,o=r.advanceIteration,u=r.experimentSeed,l=r.userID,d=r.addResults,b=(Date.now()-s)/1e3,h=Math.round(100*(b+Number.EPSILON))/100,j=t.srcElement.__data__,m=p.a(e),f=p.a(e),O=p.b(e),T=Math.abs((m-j)/(f-O)),x={"Group code":u,"User ID":l,Format:a,"Number of values":i,Iteration:c,"Reaction time (seconds)":h,"Error (0-1)":Math.round(1e3*(T+Number.EPSILON))/1e3};console.log(x),d(x),o()},n.RenderBlock=function(){p.h("svg > *").remove();var t,e,r,a=p.g(n.blockRef.current),i=n.props,s=i.format,c=i.n,o=i.curentIteration,u=i.experimentSeed,l=c,d=b("".concat(u).concat(s).concat(c).concat(o)),h=p.c(l).map((function(t){return Math.floor(100*d())}));if(25===l)t=5,e=5,r=48;else{if(3!==l&&5!==l&&9!==l)return null;t=3,e=3,r=48}var m=400/t,f=400/e,O={};O.x=p.f().range([0,m]).padding(.5).align(1),O.y=p.d().range([0,f]).paddingInner(.3);var T=p.b([O.y.bandwidth(),O.x.step()])/2,x=a.selectAll("g").data(h).enter().append("g").attr("transform",(function(r,n){return"translate("+(n%t*m-2.5)+","+(Math.floor(n/e)*f-2.5)+")"})).on("click",(function(t){return n.logOnClickResult(t,h)})).style("cursor","pointer");if(s===j.BUBBLE){var v=p.e().domain([Math.sqrt(p.b(h)),Math.sqrt(p.a(h))]).range([5,T]);x.append("circle").attr("cx",m/2).attr("cy",m/2).attr("r",T/2).style("fill","white"),x.append("circle").attr("cx",m/2).attr("cy",m/2).attr("r",(function(t){return v(Math.sqrt(t))})).style("fill","black")}else s===j.TEXT&&(x.append("circle").attr("cx",m/2).attr("cy",m/2).attr("r",T/2).style("fill","white"),x.append("text").attr("x",m/2).attr("y",m/2).attr("text-anchor","middle").attr("font-size",r+"px").text((function(t){return t})))},n.blockRef=a.a.createRef(),n}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.RenderBlock()}},{key:"componentDidUpdate",value:function(){this.RenderBlock()}},{key:"render",value:function(){return Object(h.jsx)("svg",{ref:this.blockRef,style:{height:400,width:400}})}}]),r}(a.a.Component),f=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=this.props,e=t.format,r=t.n,n=t.showInstruction,a=t.instructType,i=t.curentIteration,s=Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"".concat(e," phase")}),Object(h.jsx)("p",{children:1===a?"Perform the required task for a group of ".concat(r," numbers"):"Now do the same for a group of ".concat(r," numbers")}),Object(h.jsx)("p",{children:"Press Space to Continue"})]});return n?s:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Iteration ".concat(i)}),this.props.children]})}}]),r}(a.a.Component),O=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Welcome to our visualization experiment"}),Object(h.jsx)("p",{children:"For this experiment, you will be shown a series of numbers represented as either text or circles of corresponding sizes."}),Object(h.jsx)("p",{children:"Your required task is to click the biggest number/circle as fast as you can"}),Object(h.jsx)("p",{children:"To begin, please enter a group code, if you were given one."}),Object(h.jsx)("p",{children:"This is to ensure everyone in your group, who performs the experiment, receives the same trials."}),Object(h.jsx)("input",{type:"text",placeholder:"Please enter group code",onKeyDown:this.props.onBeginExperiment})]})}}]),r}(a.a.Component),T=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Click the button below to submit your results for analysis"}),Object(h.jsx)("button",{type:"submit",onClick:this.props.onSubmit,children:"Submit"})]});return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h2",{children:"Thank you for participating"}),Object(h.jsx)("p",{children:"Your results are below"}),this.props.showSubmitButton?t:this.props.submissionStatusObject,Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:Object.keys(this.props.results[0]).map((function(t,e){return Object(h.jsx)("th",{children:t},e)}))},"header")}),Object(h.jsx)("tbody",{children:this.props.results.map((function(t,e){return Object(h.jsx)("tr",{children:Object.values(t).map((function(t,e){return Object(h.jsx)("td",{children:t},e)}))},e)}))})]})]})}}]),r}(a.a.Component),x=(r(133),r(45)),v=r.n(x),y=(r(151),Object.freeze({NOT_SUBMITTED:1,SUCCESFUL:2,FAILED:3})),S=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).beginExperiment=function(t){if(13===t.keyCode){var e=t.srcElement||t.target;n.groupCode=e.value,n.setState({showIntro:!1})}},n.onSpacebarClicked=function(t){!n.state.showInstruction||"Spacebar"!==t.key&&" "!==t.key&&32!==t.keyCode||n.setState({showInstruction:!1})},n.advanceIteration=function(){n.setState({curentIteration:n.state.curentIteration+1})},n.advanceTrial=function(){n.setState({currentTrial:n.state.currentTrial+1,curentIteration:1,showInstruction:!0})},n.addResults=function(t){n.setState({results:[].concat(Object(c.a)(n.state.results),[t])})},n.submitHandler=function(t){t.preventDefault(),console.log(n.state.results),v.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/seng411-experiment",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_SHEETS),n.state.results).then((function(t){console.log(t),n.setState({dataSubmitted:y.SUCCESFUL})})).catch((function(t){console.log(t),n.setState({dataSubmitted:y.FAILED})}))},n.whatToShow=function(){if(n.state.showIntro)return Object(h.jsx)(O,{onBeginExperiment:n.beginExperiment});if(n.state.currentTrial===n.trialParameters.length){var t=null;return n.state.dataSubmitted===y.SUCCESFUL?t=Object(h.jsx)("div",{className:"submittedSuccessfully",children:"Data submission complete"}):n.state.dataSubmitted===y.FAILED&&(t=Object(h.jsx)("div",{className:"submittedFailed",children:"Data submission failed"})),Object(h.jsx)(T,{results:n.state.results,showSubmitButton:n.state.dataSubmitted===y.NOT_SUBMITTED,submissionStatusObject:t,onSubmit:n.submitHandler})}return Object(h.jsx)(f,{format:n.trialParameters[n.state.currentTrial].format,n:n.trialParameters[n.state.currentTrial].n,showInstruction:n.state.showInstruction,instructType:n.trialParameters[n.state.currentTrial].instructType,curentIteration:n.state.curentIteration,children:Object(h.jsx)(m,{format:n.trialParameters[n.state.currentTrial].format,n:n.trialParameters[n.state.currentTrial].n,startTime:Date.now(),curentIteration:n.state.curentIteration,advanceIteration:n.advanceIteration,experimentSeed:n.groupCode,userID:n.userID,addResults:n.addResults})})},n.state={currentTrial:0,showInstruction:!0,curentIteration:1,results:[],showIntro:!0,dataSubmitted:y.NOT_SUBMITTED},n.userID=Math.floor(9e4*Math.random())+1e4,n.groupCode=0,n.iterationPerTrial=3,n.trialParameters=[{format:j.TEXT,n:3,instructType:1},{format:j.TEXT,n:5,instructType:2},{format:j.TEXT,n:9,instructType:2},{format:j.TEXT,n:25,instructType:2},{format:j.BUBBLE,n:3,instructType:1},{format:j.BUBBLE,n:5,instructType:2},{format:j.BUBBLE,n:9,instructType:2},{format:j.BUBBLE,n:25,instructType:2}],n}return Object(u.a)(r,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onSpacebarClicked)}},{key:"componentDidUpdate",value:function(){this.state.curentIteration>this.iterationPerTrial&&this.advanceTrial()}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"App",children:this.whatToShow()})}}]),r}(a.a.Component),g=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,155)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;r(t),n(t),a(t),i(t),s(t)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),g()}},[[154,1,2]]]);
//# sourceMappingURL=main.29406fed.chunk.js.map
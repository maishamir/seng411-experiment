(this.webpackJsonpnumber_trial=this.webpackJsonpnumber_trial||[]).push([[0],{122:function(t,e,r){},131:function(t,e){},133:function(t,e,r){},154:function(t,e,r){"use strict";r.r(e);var n=r(1),a=r.n(n),s=r(41),i=r.n(s),c=(r(122),r(46)),o=r(5),u=r(6),l=r(7),d=r(8),b=r(3),h=r(44),p=r(0),f=Object.freeze({TEXT:"Text",BUBBLE:"Bubble"}),j=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).logOnClickResult=function(t,e){var r=n.props,a=r.format,s=r.n,i=r.startTime,c=r.curentIteration,o=r.advanceIteration,u=r.experimentSeed,l=r.userID,d=r.addResults,h=(Date.now()-i)/1e3,p=Math.round(100*(h+Number.EPSILON))/100,f=t.srcElement.__data__,j=b.a(e),m=b.a(e),O=b.b(e),x=Math.abs((j-f)/(m-O)),T={"Group code":u,"User ID":l,Format:a,"Number of values":s,Iteration:c,"Reaction time (seconds)":p,"Error (0-1)":Math.round(1e3*(x+Number.EPSILON))/1e3};console.log(T),d(T),o()},n.RenderBlock=function(){b.h("svg > *").remove();var t,e,r,a=b.g(n.blockRef.current),s=n.props,i=s.format,c=s.n,o=s.curentIteration,u=s.experimentSeed,l=c,d=h("".concat(u).concat(i).concat(c).concat(o)),p=b.c(l).map((function(t){return Math.floor(100*d())}));if(25===l)t=5,e=5,r=48;else{if(3!==l&&5!==l&&9!==l)return null;t=3,e=3,r=48}var j=400/t,m=400/e,O={};O.x=b.f().range([0,j]).padding(.5).align(1),O.y=b.d().range([0,m]).paddingInner(.3);var x=b.b([O.y.bandwidth(),O.x.step()])/2,T=a.selectAll("g").data(p).enter().append("g").attr("transform",(function(r,n){return"translate("+(n%t*j-2.5)+","+(Math.floor(n/e)*m-2.5)+")"})).on("click",(function(t){return n.logOnClickResult(t,p)})).style("cursor","pointer");if(i===f.BUBBLE){var y=b.e().domain([Math.sqrt(b.b(p)),Math.sqrt(b.a(p))]).range([5,x]);T.append("circle").attr("cx",j/2).attr("cy",j/2).attr("r",x/2).style("fill","white"),T.append("circle").attr("cx",j/2).attr("cy",j/2).attr("r",(function(t){return y(Math.sqrt(t))})).style("fill","black")}else i===f.TEXT&&(T.append("circle").attr("cx",j/2).attr("cy",j/2).attr("r",x/2).style("fill","white"),T.append("text").attr("x",j/2).attr("y",j/2).attr("text-anchor","middle").attr("font-size",r+"px").text((function(t){return t})))},n.blockRef=a.a.createRef(),n}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.RenderBlock()}},{key:"componentDidUpdate",value:function(){this.RenderBlock()}},{key:"render",value:function(){return Object(p.jsx)("svg",{ref:this.blockRef,style:{height:400,width:400}})}}]),r}(a.a.Component),m=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=this.props,e=t.format,r=t.n,n=t.showInstruction,a=t.instructType,s=t.curentIteration,i=Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"".concat(e," phase")}),Object(p.jsx)("p",{children:1===a?"Perform the required task for a group of ".concat(r," numbers"):"Now do the same for a group of ".concat(r," numbers")}),Object(p.jsx)("p",{children:"Press Space to Continue"})]});return n?i:Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Iteration ".concat(s)}),this.props.children]})}}]),r}(a.a.Component),O=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Welcome to our visualization experiment"}),Object(p.jsx)("p",{children:"For this experiment, you will be shown a series of numbers represented as either text or circles of corresponding sizes."}),Object(p.jsx)("p",{children:"Your required task is to click the biggest number/circle as fast as you can"}),Object(p.jsx)("p",{children:"To begin, please enter a group code, if you were given one."}),Object(p.jsx)("p",{children:"This is to ensure everyone in your group, who performs the experiment, receives the same trials."}),Object(p.jsx)("input",{type:"text",placeholder:"Please enter group code",onKeyDown:this.props.onBeginExperiment})]})}}]),r}(a.a.Component),x=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var t=Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"Click the button below to submit your results for analysis"}),Object(p.jsx)("button",{type:"submit",onClick:this.props.onSubmit,children:"Submit"})]});return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("h2",{children:"Thank you for participating"}),Object(p.jsx)("p",{children:"Your results are below"}),this.props.showSubmitButton?t:this.props.submissionStatusObject,Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:Object.keys(this.props.results[0]).map((function(t,e){return Object(p.jsx)("th",{children:t},e)}))},"header")}),Object(p.jsx)("tbody",{children:this.props.results.map((function(t,e){return Object(p.jsx)("tr",{children:Object.values(t).map((function(t,e){return Object(p.jsx)("td",{children:t},e)}))},e)}))})]})]})}}]),r}(a.a.Component),T=(r(133),r(45)),y=r.n(T),v=(r(151),Object.freeze({NOT_SUBMITTED:1,SUCCESFUL:2,FAILED:3})),g=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).beginExperiment=function(t){if(13===t.keyCode){var e=t.srcElement||t.target;n.groupCode=e.value,n.setState({showIntro:!1})}},n.onSpacebarClicked=function(t){!n.state.showInstruction||"Spacebar"!==t.key&&" "!==t.key&&32!==t.keyCode||n.setState({showInstruction:!1})},n.advanceIteration=function(){n.setState({curentIteration:n.state.curentIteration+1})},n.advanceTrial=function(){n.setState({currentTrial:n.state.currentTrial+1,curentIteration:1,showInstruction:!0})},n.addResults=function(t){n.setState({results:[].concat(Object(c.a)(n.state.results),[t])})},n.submitHandler=function(t){t.preventDefault(),console.log(n.state.results),y.a.post("".concat("https://sheet.best/api/sheets/084aabb0-4875-47d6-bf10-2f97cd259deb"),n.state.results).then((function(t){console.log(t),n.setState({dataSubmitted:v.SUCCESFUL})})).catch((function(t){console.log(t),n.setState({dataSubmitted:v.FAILED})}))},n.whatToShow=function(){if(n.state.showIntro)return Object(p.jsx)(O,{onBeginExperiment:n.beginExperiment});if(n.state.currentTrial===n.trialParameters.length){var t=null;return n.state.dataSubmitted===v.SUCCESFUL?t=Object(p.jsx)("div",{className:"submittedSuccessfully",children:"Data submission complete"}):n.state.dataSubmitted===v.FAILED&&(t=Object(p.jsx)("div",{className:"submittedFailed",children:"Data submission failed"})),Object(p.jsx)(x,{results:n.state.results,showSubmitButton:n.state.dataSubmitted===v.NOT_SUBMITTED,submissionStatusObject:t,onSubmit:n.submitHandler})}return Object(p.jsx)(m,{format:n.trialParameters[n.state.currentTrial].format,n:n.trialParameters[n.state.currentTrial].n,showInstruction:n.state.showInstruction,instructType:n.trialParameters[n.state.currentTrial].instructType,curentIteration:n.state.curentIteration,children:Object(p.jsx)(j,{format:n.trialParameters[n.state.currentTrial].format,n:n.trialParameters[n.state.currentTrial].n,startTime:Date.now(),curentIteration:n.state.curentIteration,advanceIteration:n.advanceIteration,experimentSeed:n.groupCode,userID:n.userID,addResults:n.addResults})})},n.state={currentTrial:0,showInstruction:!0,curentIteration:1,results:[],showIntro:!0,dataSubmitted:v.NOT_SUBMITTED},n.userID=Math.floor(9e4*Math.random())+1e4,n.groupCode=0,n.iterationPerTrial=3,n.trialParameters=[{format:f.TEXT,n:3,instructType:1},{format:f.TEXT,n:5,instructType:2},{format:f.TEXT,n:9,instructType:2},{format:f.TEXT,n:25,instructType:2},{format:f.BUBBLE,n:3,instructType:1},{format:f.BUBBLE,n:5,instructType:2},{format:f.BUBBLE,n:9,instructType:2},{format:f.BUBBLE,n:25,instructType:2}],n}return Object(u.a)(r,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onSpacebarClicked)}},{key:"componentDidUpdate",value:function(){this.state.curentIteration>this.iterationPerTrial&&this.advanceTrial()}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"App",children:this.whatToShow()})}}]),r}(a.a.Component),I=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,155)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,i=e.getTTFB;r(t),n(t),a(t),s(t),i(t)}))};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root")),I()}},[[154,1,2]]]);
//# sourceMappingURL=main.847a6c37.chunk.js.map